<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Lab Loader</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>

      * {
        margin: 0;
        padding: 0;
        border: 0;
      }

      html,body {
        height: 100%;
      }

      iframe {
        width: 100%;
        height: 100%;
      }

    </style>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>

      $(function () {

        // Fix window.resize issues on iOS
        if (navigator.userAgent.match(/(iPhone|iPod|iPad)/i)) {
          $('html,body').css('height', 'auto');
        }

        // poll URLs
        function remote() {
          $.ajax({
            url: 'remote-loader.html',
            cache: false,
            timeout: 100000,

            success: function (data) {
              console.log("Loading: " + data);
              if ($('iframe').attr('src') != data) {
                $('iframe').attr('src', data);
              }
              setTimeout(remote, 2000);
            },

            error: function (XMLHttpRequest, textStatus, errorThrown) {
              console.log('error', textStatus + ' (' + errorThrown + ')');
              setTimeout(remote, 4000);
            }
          });
        }

        // Init once
        remote();

      });

    </script>
  </head>
  <body>
    <iframe src="" frameborder="0" scrolling="yes" marginheight="0" marginwidth="0"></iframe>
  </body>
</html>
